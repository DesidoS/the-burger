"use strict";(self["webpackChunkthe_burger"]=self["webpackChunkthe_burger"]||[]).push([[850],{6373:function(t,e,s){s.d(e,{Z:function(){return o}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-container"},[t._t("default")],2)},n=[],a={name:"AuthContainer"},r=a,u=s(1001),l=(0,u.Z)(r,i,n,!1,null,"7ce6f064",null),o=l.exports},9580:function(t,e,s){s.d(e,{Z:function(){return o}});var i=function(){var t=this,e=t._self._c;return e("section",{staticClass:"auth-section"},[t._t("default")],2)},n=[],a={name:"AuthSection"},r=a,u=s(1001),l=(0,u.Z)(r,i,n,!1,null,"8ca09406",null),o=l.exports},851:function(t,e,s){s.d(e,{Z:function(){return o}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper-input"},[e("input",t._g(t._b({staticClass:"custom-input",class:!t.isValid&&"custom-input--error",domProps:{value:t.value},on:{blur:t.blurHandler}},"input",t.$attrs,!1),t.listeners)),t.isValid?t._e():e("span",{staticClass:"custom-input__error"},[t._v(t._s(t.error))])])},n=[],a={name:"CustomInput",data(){return{isValid:!0,error:"",isFirstInput:!0}},inject:{form:{default:null}},inheritAttrs:!1,props:{value:{type:String,default:""},errorMessage:{type:String,default:""},rules:{type:Array,default:()=>[]}},computed:{listeners(){return{...this.$listeners,input:t=>this.$emit("input",t.target.value)}}},watch:{value(){this.isFirstInput||this.validate()}},mounted(){this.form&&this.form.registerInput(this)},beforeDestroy(){this.form&&this.form.unRegisterInput(this)},methods:{validate(){return this.isValid=this.rules.every((t=>{const{hasPassed:e,message:s}=t(this.value);return e||(this.error=s||this.errorMessage),e})),this.isValid},blurHandler(){this.isFirstInput&&this.validate(),this.isFirstInput=!1},reset(){this.isFirstInput=!0,this.isValid=!0,this.$emit("input","")}}},r=a,u=s(1001),l=(0,u.Z)(r,i,n,!1,null,"7c692304",null),o=l.exports},3921:function(t,e,s){s.d(e,{Z:function(){return o}});var i=function(){var t=this,e=t._self._c;return e(t.tagName,{tag:"component",staticClass:"main-title"},[t._t("default")],2)},n=[],a={name:"MainTitle",props:{level:{type:Number,default:1}},computed:{tagName(){return`h${this.level}`}}},r=a,u=s(1001),l=(0,u.Z)(r,i,n,!1,null,"d07ca56a",null),o=l.exports},7536:function(t,e,s){s.d(e,{Z:function(){return o}});var i=function(){var t=this,e=t._self._c;return e("form",t._g({staticClass:"form"},t.$listeners),[t._t("default")],2)},n=[],a=(s(7658),{name:"AppForm",provide(){return{form:this}},data(){return{inputs:[]}},methods:{registerInput(t){this.inputs.push(t)},unRegisterInput(t){this.inputs.filter((e=>e!==t))},validate(){return this.inputs.reduce(((t,e)=>{const s=e.validate();return t&&s}),!0)},reset(){this.inputs.forEach((t=>t.reset()))}}}),r=a,u=s(1001),l=(0,u.Z)(r,i,n,!1,null,"30956ff0",null),o=l.exports},850:function(t,e,s){s.r(e),s.d(e,{default:function(){return y}});var i=function(){var t=this,e=t._self._c;return e("main",{staticClass:"login"},[e("AuthSection",[e("LoginForm")],1)],1)},n=[],a=function(){var t=this,e=t._self._c;return e("AuthContainer",{staticClass:"login"},[e("MainTitle",{staticClass:"login__title"},[t._v("Login")]),e("Form",{ref:"form",staticClass:"login__form",on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("CustomInput",{staticClass:"login__input",attrs:{placeholder:"Email",autocomplete:"email",name:"email",rules:t.emailRules},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}}),e("CustomInput",{staticClass:"login__input",attrs:{placeholder:"Password",autocomplete:"current-password",type:"password",name:"password",rules:t.passwordRules},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}}),e("Button",{staticClass:"login__btn",attrs:{type:"submit",loading:t.loading}},[t._v("Enter")])],1)],1)},r=[],u=(s(7658),s(7536)),l=s(851),o=s(4405),c=s(6373),m=s(3921),d=s(520),p=s(408),h={name:"AppLogin",components:{Form:u.Z,CustomInput:l.Z,Button:o.Z,AuthContainer:c.Z,MainTitle:m.Z},data(){return{loading:!1,formData:{email:"",password:""}}},computed:{rules(){return{emailValidation:d.D6,passwordValidation:d.aO,isRequired:d.q9}},emailRules(){return[this.rules.isRequired,this.rules.emailValidation]},passwordRules(){return[this.rules.isRequired]}},methods:{...(0,p.nv)("auth",["login"]),async handleSubmit(){const{form:t}=this.$refs,e=t.validate();if(e)try{this.loading=!0,await this.login(this.formData),this.$router.push({name:"homepage"}),t.reset()}catch(s){this.$notify({type:"error",title:"Error",text:s.message})}finally{this.loading=!1}}}},f=h,g=s(1001),_=(0,g.Z)(f,a,r,!1,null,"b9c045b6",null),v=_.exports,C=s(9580),Z={name:"LoginPage",components:{LoginForm:v,AuthSection:C.Z}},b=Z,w=(0,g.Z)(b,i,n,!1,null,"dc8125f0",null),y=w.exports},520:function(t,e,s){s.d(e,{D6:function(){return a},F8:function(){return n},aO:function(){return r},q9:function(){return i}});const i=t=>({hasPassed:!!t,message:"Please fill in this field"}),n=t=>e=>({hasPassed:e.length<=t,message:"You have exceeded the limit"}),a=t=>({hasPassed:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(t),message:"Invalid email"}),r=t=>({hasPassed:/^(?=.*[A-Za-z])(?=.*[\d])[a-zA-Z0-9]{7,256}$/.test(t),message:"Password must contain one number and one character"})}}]);
//# sourceMappingURL=850.2279c23f.js.map